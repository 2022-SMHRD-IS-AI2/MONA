<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.smhrd.model.ProductDAO">
	
	<!--상품 등록 요청  -->
	<insert id="upload" parameterType="com.smhrd.model.ProductVO">
	insert into tb_product values(
	tb_product_SEQ.nextval,#{prod_name},#{prod_cate},#{prod_price},#{prod_thumb},
	#{prod_img},#{prod_desc},'0','0',sysdate,#{seller_id},#{shop_name},'N')	
	</insert>
	
	<!--상품 등록 요청건 관리자마이페이지에 보내기  -->
	<select id="showProduct" resultType="com.smhrd.model.ProductVO">
		select * from TB_PRODUCT where shop_check='N'
	</select>
	
	<!--관리자 승인여부 업데이트(관리자가 승인 버튼 클릭시 승인여부 'N'->'Y'로 변경 -->
	<update id="updateAdminCheck" parameterType="int" >
		update TB_PRODUCT set shop_check='Y' where prod_num=#{prod_num}
	</update>
	
	 <!--관리자가 승인한 상품만 카테고리별로 등록하기  -->
	<select id="showCate" resultType="com.smhrd.model.ProductVO">
		select * from TB_PRODUCT where shop_check='Y' 
	</select>
	
     <!--특정상품 클릭시 선택한 상품 상세정보페이지 띄우기-->
	<select id="showProdDetail" resultType="com.smhrd.model.ProductVO" parameterType="int">
		select * from TB_PRODUCT where prod_num=#{prod_num}
	</select>
	

	
</mapper>